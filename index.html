<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Friendly Meal Planner</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: #f2f2f2;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    .planner {
      width: 60%;
      background: #fff;
      padding: 20px;
      overflow-y: auto;
    }

    .recipes {
      width: 40%;
      background: #f9f9f9;
      padding: 20px;
      overflow-y: auto;
      border-left: 1px solid #ddd;
    }

    h2 {
      text-align: center;
      color: #333;
    }

    .day {
      margin-bottom: 20px;
    }

    .day h3 {
      margin-bottom: 10px;
      color: #444;
    }

    .meals {
      display: flex;
      gap: 10px;
    }

    .meal {
      flex: 1;
      min-height: 80px;
      border: 2px dashed #ccc;
      border-radius: 6px;
      padding: 10px;
      text-align: center;
      background: #fafafa;
      transition: background 0.3s;
    }

    .meal.drag-over {
      background: #e0ffe0;
      border-color: #28a745;
    }

    .meal span {
      display: block;
      margin-top: 8px;
      background: #28a745;
      color: white;
      padding: 5px;
      border-radius: 5px;
      cursor: pointer;
    }

    .recipe-card {
      display: flex;
      align-items: center;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      margin-bottom: 15px;
      padding: 10px;
      cursor: grab;
    }

    .recipe-card img {
      width: 60px;
      height: 60px;
      border-radius: 6px;
      object-fit: cover;
      margin-right: 10px;
    }

    .recipe-name {
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>

  <!-- Left: Planner -->
  <div class="planner">
    <h2>Weekly Meal Planner</h2>
    <div id="mealPlanner"></div>
  </div>

  <!-- Right: Recipes -->
  <div class="recipes">
    <h2>Recipes</h2>
    <div id="recipeList"></div>
  </div>

  <script>
    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
    const meals = ['Breakfast', 'Lunch', 'Dinner'];

    const recipes = [
      { name: 'Pancakes', img: 'https://via.placeholder.com/60?text=Pancakes' },
      { name: 'Chicken Salad', img: 'https://via.placeholder.com/60?text=Salad' },
      { name: 'Spaghetti', img: 'https://via.placeholder.com/60?text=Pasta' },
      { name: 'Omelette', img: 'https://via.placeholder.com/60?text=Omelette' },
      { name: 'Grilled Cheese', img: 'https://via.placeholder.com/60?text=Sandwich' },
      { name: 'Fruit Smoothie', img: 'https://via.placeholder.com/60?text=Smoothie' },
      { name: 'Tacos', img: 'https://via.placeholder.com/60?text=Tacos' },
      { name: 'Steak', img: 'https://via.placeholder.com/60?text=Steak' }
    ];

    const recipeListEl = document.getElementById('recipeList');
    const mealPlannerEl = document.getElementById('mealPlanner');
    const mealPlan = {};

    // === Render Recipe Cards ===
    recipes.forEach(recipe => {
      const card = document.createElement('div');
      card.className = 'recipe-card';
      card.draggable = true;
      card.innerHTML = `
        <img src="${recipe.img}" alt="${recipe.name}" />
        <div class="recipe-name">${recipe.name}</div>
      `;
      card.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text/plain', recipe.name);
      });
      recipeListEl.appendChild(card);
    });

    // === Render Planner UI ===
    days.forEach(day => {
      const dayDiv = document.createElement('div');
      dayDiv.className = 'day';
      const title = document.createElement('h3');
      title.textContent = day;
      dayDiv.appendChild(title);

      const mealsDiv = document.createElement('div');
      mealsDiv.className = 'meals';

      meals.forEach(meal => {
        const slot = document.createElement('div');
        slot.className = 'meal';
        slot.dataset.day = day;
        slot.dataset.meal = meal;
        slot.innerHTML = `<strong>${meal}</strong>`;

        slot.addEventListener('dragover', e => {
          e.preventDefault();
          slot.classList.add('drag-over');
        });

        slot.addEventListener('dragleave', () => {
          slot.classList.remove('drag-over');
        });

        slot.addEventListener('drop', e => {
          e.preventDefault();
          slot.classList.remove('drag-over');
          const recipeName = e.dataTransfer.getData('text/plain');
          mealPlan[day] = mealPlan[day] || {};
          mealPlan[day][meal] = recipeName;
          renderMealPlan();
        });

        mealsDiv.appendChild(slot);
      });

      dayDiv.appendChild(mealsDiv);
      mealPlannerEl.appendChild(dayDiv);
    });

    function renderMealPlan() {
      document.querySelectorAll('.meal').forEach(slot => {
        const day = slot.dataset.day;
        const meal = slot.dataset.meal;
        const recipe = mealPlan[day]?.[meal];

        // Remove previous content
        const oldSpans = slot.querySelectorAll('span');
        oldSpans.forEach(s => s.remove());

        if (recipe) {
          const recipeSpan = document.createElement('span');
          recipeSpan.textContent = recipe;
          recipeSpan.title = 'Click to remove';
          recipeSpan.addEventListener('click', () => {
            delete mealPlan[day][meal];
            renderMealPlan();
          });
          slot.appendChild(recipeSpan);
        }
      });
    }
  </script>
</body>
</html>
